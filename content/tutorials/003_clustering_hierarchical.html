<!DOCTYPE html>

<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Opengraph properties (https://ogp.me/)-->
    <meta property="og:image" content="https://fslab.org/images/logo.svg" />
    <meta property="og:title" content="Clustering with FSharp.Stats II: hierarchical clustering
" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="fslab.org" />

    <title>Clustering with FSharp.Stats II: hierarchical clustering
</title>
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito+Sans">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.1/css/bulma.min.css">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
    <link rel="stylesheet" href="https://fslab.org/style/style.css">
    <link type="text/css" rel="stylesheet" href="https://fslab.org/content/tutorials/content/fsdocs-default.css" />
    <link type="text/css" rel="stylesheet" href="https://fslab.org/content/tutorials/content/fsdocs-custom.css" />
    
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="https://fslab.org/content/tutorials/content/fsdocs-tips.js"></script>
    <script type="text/javascript" defer crossorigin="anonymous" src="https://kit.fontawesome.com/0d3e0ea7a6.js"></script>
    <script type="text/javascript" defer crossorigin="anonymous" src="https://fslab.org/js/prism.js"></script>
    <script type="text/javascript" defer crossorigin="anonymous" src="https://fslab.org/js/navbar.js"></script>
    
</head>
<body>
    <nav class="navbar is-fixed-top">
        <div class="navbar-brand">
            <a class="navbar-item" href="/">
                <img src="https://fslab.org/images/favicon.png" alt="Logo">
            </a>
            <a class="navbar-burger" data-target="navMenu" aria-label="menu" role="button" aria-expanded="false">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        <div id="navMenu" class="navbar-menu">
            <a href="https://fslab.org/" class="navbar-item">Home</a>
            <a href="https://fslab.org/packages.html" class="navbar-item">Data science packages</a>
            <a hre="https://fslab.org/tutorials.html" class="navbar-item is-active-link-darkmagenta smooth-hover">Tutorials and Blogposts</a>
        </div>
    </nav>
    <section class="hero is-small has-bg-darkmagenta">
        <div class="hero-body">
            <div class="container">
                <div class="media mb-4">
                    <div class="media-left">
                        <figure class="image is-128x128">
                            <img id="logo-square" class="is-rounded" src="https://fslab.org/images/logo-rounded.svg">
                        </figure>
                    </div>
                    <div class="media-content">
                        <h1 class="title is-size-1 is-white">Clustering with FSharp.Stats II: hierarchical clustering
</h1>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="hero">
        <div class="hero-body">
            <div class="container" id="fsdocs-content">
                <a class="button landing-page-link is-size-4" href="https://fslab.org/tutorials.html"><i class="fas fa-long-arrow-alt-left"></i>Back to the index</a>
                <p><a href="https://mybinder.org/v2/gh/fslaborg/fslaborg.github.io/gh-pages?filepath=content/tutorials/003_clustering_hierarchical.ipynb"><img src="https://fslab.org/images/badge-binder.svg" alt="Binder" /></a>&emsp;
<a href="https://fslab.org/content/tutorials/003_clustering_hierarchical.fsx"><img src="https://fslab.org/images/badge-script.svg" alt="Script" /></a>&emsp;
<a href="https://fslab.org/content/tutorials/003_clustering_hierarchical.ipynb"><img src="https://fslab.org/images/badge-notebook.svg" alt="Notebook" /></a></p>
<h1><a name="Clustering-with-FSharp-Stats-II-hierarchical-clustering" class="anchor" href="#Clustering-with-FSharp-Stats-II-hierarchical-clustering">Clustering with FSharp.Stats II: hierarchical clustering</a></h1>
<p><em>Summary:</em> This tutorial demonstrates hierarchical clustering with FSharp.Stats and how to visualize the results with Plotly.NET.</p>
<p>In the previous article of this series <a href="002_clustering_kMeans.html">k-means clustering using FSharp.Stats</a> was introduced.</p>
<h2><a name="Introduction" class="anchor" href="#Introduction">Introduction</a></h2>
<p>Clustering methods can be used to group elements of a huge data set based on their similarity. Elements sharing similar properties cluster together and can be reported as coherent group.
Many clustering algorithms require a predefined cluster number, that has to be provided by the experimenter.
Hierarchical clustering (hClust) does not require such cluster number definition. Instead, hierarchical clustering results in a tree structure, that has a single cluster (node) on its root and recursively splits up into clusters of
elements that are more similar to each other than to elements of other clusters. For generating multiple clustering results with different number of clusters,
the clustering has to performed only once. Subsequently a cluster number can be defined to split up the clustering tree in the desired number of clusters.
The clustering tree is often represented as dendrogram.</p>
<h3><a name="There-are-two-types-of-hClust" class="anchor" href="#There-are-two-types-of-hClust">There are two types of hClust:</a></h3>
<ul>
<li>Agglomerative (bottom-up): Each data point is in its own cluster and the nearest ones are merged recursively. It is referred as agglomerative hierarchical clustering.</li>
<li>Divisive (top-down): All data points are in the same cluster and you divide the cluster into two that are far away from each other.</li>
<li>The presented implementation is an agglomerative type.</li>
</ul>
<h3><a name="Distance-measures" class="anchor" href="#Distance-measures">Distance measures</a></h3>
<p>There are several distance metrics, that can be used as distance function. The commonly used one probably is Euclidean distance.</p>
<h3><a name="Linker" class="anchor" href="#Linker">Linker</a></h3>
<p>When the distance between two clusters is calculated, there are several linkage types to choose from:</p>
<ul>
<li><p><strong>complete linkage</strong>: maximal pairwise distance between the clusters (prone to break large clusters)</p></li>
<li><p><strong>single linkage</strong>: minimal pairwise distance between the clusters (sensitive to outliers)</p></li>
<li><p><strong>centroid linkage</strong>: distance between the two cluster centroids</p></li>
<li><p><strong>average linkage</strong>: average pairwise distance between the clusters (sensitive to cluster shape and size)</p></li>
<li><p><strong>median linkage</strong>: median pairwise distance between the clusters</p></li>
</ul>
<img style="max-width:100%" src="../../images/hClust.png"></img>
<br>
<p>For demonstration of hierarchical clustering, the classic iris data set is used, which consists of 150 records, each of which contains four measurements and a species identifier.</p>
<h2><a name="Referencing-packages" class="anchor" href="#Referencing-packages">Referencing packages</a></h2>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Packages hosted by the Fslab community</span>
<span class="pp">#r</span> <span class="s">&quot;nuget: Deedle&quot;</span>
<span class="pp">#r</span> <span class="s">&quot;nuget: FSharp.Stats&quot;</span>
<span class="c">// third party .net packages </span>
<span class="pp">#r</span> <span class="s">&quot;nuget: Plotly.NET, 2.0.0-preview.6&quot;</span>
<span class="pp">#r</span> <span class="s">&quot;nuget: Plotly.NET.Interactive, 2.0.0-preview.6&quot;</span>
<span class="pp">#r</span> <span class="s">&quot;nuget: FSharp.Data&quot;</span>
</code></pre>
<h2><a name="Loading-data" class="anchor" href="#Loading-data">Loading data</a></h2>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">Data</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="id">Deedle</span>

<span class="c">// Retrieve data using the FSharp.Data package and read it as dataframe using the Deedle package</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="id">rawData</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="rt">Http</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="id">RequestString</span> <span class="s">@&quot;https://raw.githubusercontent.com/fslaborg/datasets/main/data/iris.csv&quot;</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs7', 7)" onmouseover="showTip(event, 'fs7', 7)" class="id">df</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 8)" onmouseover="showTip(event, 'fs8', 8)" class="m">Frame</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 9)" onmouseover="showTip(event, 'fs9', 9)" class="id">ReadCsvString</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 10)" onmouseover="showTip(event, 'fs4', 10)" class="id">rawData</span><span class="pn">)</span>

<span onmouseout="hideTip(event, 'fs7', 11)" onmouseover="showTip(event, 'fs7', 11)" class="id">df</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs10', 12)" onmouseover="showTip(event, 'fs10', 12)" class="id">Print</span><span class="pn">(</span><span class="pn">)</span>
</code></pre>
<table class="pre"><tr><td><pre><code>sepal_length sepal_width petal_length petal_width species    
0   -&gt; 5.5          2.4         3.8          1.1         versicolor 
1   -&gt; 4.9          3.1         1.5          0.1         setosa     
2   -&gt; 7.6          3           6.6          2.1         virginica  
3   -&gt; 5.6          2.8         4.9          2           virginica  
4   -&gt; 6.1          3           4.9          1.8         virginica  
5   -&gt; 6.3          3.4         5.6          2.4         virginica  
6   -&gt; 6.2          2.8         4.8          1.8         virginica  
7   -&gt; 7.2          3.2         6            1.8         virginica  
8   -&gt; 6.9          3.2         5.7          2.3         virginica  
9   -&gt; 4.9          3           1.4          0.2         setosa     
10  -&gt; 5.4          3.9         1.7          0.4         setosa     
11  -&gt; 7            3.2         4.7          1.4         versicolor 
12  -&gt; 6.1          3           4.6          1.4         versicolor 
13  -&gt; 5.4          3.7         1.5          0.2         setosa     
14  -&gt; 7.2          3.6         6.1          2.5         virginica  
:      ...          ...         ...          ...         ...        
135 -&gt; 7.7          3.8         6.7          2.2         virginica  
136 -&gt; 5.7          3           4.2          1.2         versicolor 
137 -&gt; 6.4          2.7         5.3          1.9         virginica  
138 -&gt; 5.8          2.7         3.9          1.2         versicolor 
139 -&gt; 5            2.3         3.3          1           versicolor 
140 -&gt; 6.7          3.1         4.4          1.4         versicolor 
141 -&gt; 6.3          3.3         6            2.5         virginica  
142 -&gt; 4.9          2.4         3.3          1           versicolor 
143 -&gt; 5.8          2.8         5.1          2.4         virginica  
144 -&gt; 5            3.3         1.4          0.2         setosa     
145 -&gt; 7.7          2.6         6.9          2.3         virginica  
146 -&gt; 5.7          2.6         3.5          1           versicolor 
147 -&gt; 5.9          3           5.1          1.8         virginica  
148 -&gt; 6.8          3.2         5.9          2.3         virginica  
149 -&gt; 5            3.6         1.4          0.2         setosa</code></pre></td></tr></table>
<p>Let's take a first look at the data with heatmaps using Plotly.NET. Each of the 150 records consists of four measurements and a species identifier.
Since the species identifier occur several times (Iris-virginica, Iris-versicolor, and Iris-setosa), we create unique labels by adding the rows index to the species identifier.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs11', 13)" onmouseover="showTip(event, 'fs11', 13)" class="id">Plotly</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 14)" onmouseover="showTip(event, 'fs12', 14)" class="id">NET</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs13', 15)" onmouseover="showTip(event, 'fs13', 15)" class="id">colNames</span> <span class="o">=</span> <span class="pn">[</span><span class="s">&quot;sepal_length&quot;</span><span class="pn">;</span><span class="s">&quot;sepal_width&quot;</span><span class="pn">;</span><span class="s">&quot;petal_length&quot;</span><span class="pn">;</span><span class="s">&quot;petal_width&quot;</span><span class="pn">]</span>

<span class="c">// isolate data as float [] []</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs14', 16)" onmouseover="showTip(event, 'fs14', 16)" class="id">data</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs15', 17)" onmouseover="showTip(event, 'fs15', 17)" class="m">Frame</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs16', 18)" onmouseover="showTip(event, 'fs16', 18)" class="id">dropCol</span> <span class="s">&quot;species&quot;</span> <span onmouseout="hideTip(event, 'fs7', 19)" onmouseover="showTip(event, 'fs7', 19)" class="id">df</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs15', 20)" onmouseover="showTip(event, 'fs15', 20)" class="m">Frame</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 21)" onmouseover="showTip(event, 'fs17', 21)" class="id">toJaggedArray</span>
    

<span class="c">// isolate labels as seq&lt;string&gt;</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 22)" onmouseover="showTip(event, 'fs18', 22)" class="id">labels</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs15', 23)" onmouseover="showTip(event, 'fs15', 23)" class="m">Frame</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs19', 24)" onmouseover="showTip(event, 'fs19', 24)" class="id">getCol</span> <span class="s">&quot;species&quot;</span> <span onmouseout="hideTip(event, 'fs7', 25)" onmouseover="showTip(event, 'fs7', 25)" class="id">df</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs20', 26)" onmouseover="showTip(event, 'fs20', 26)" class="m">Series</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs21', 27)" onmouseover="showTip(event, 'fs21', 27)" class="id">values</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs22', 28)" onmouseover="showTip(event, 'fs22', 28)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 29)" onmouseover="showTip(event, 'fs23', 29)" class="id">mapi</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs24', 30)" onmouseover="showTip(event, 'fs24', 30)" class="fn">i</span> <span onmouseout="hideTip(event, 'fs25', 31)" onmouseover="showTip(event, 'fs25', 31)" class="fn">s</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs26', 32)" onmouseover="showTip(event, 'fs26', 32)" class="fn">sprintf</span> <span class="s">&quot;</span><span class="pf">%s</span><span class="s">_</span><span class="pf">%i</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs25', 33)" onmouseover="showTip(event, 'fs25', 33)" class="fn">s</span> <span onmouseout="hideTip(event, 'fs24', 34)" onmouseover="showTip(event, 'fs24', 34)" class="fn">i</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs27', 35)" onmouseover="showTip(event, 'fs27', 35)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs28', 36)" onmouseover="showTip(event, 'fs28', 36)" class="id">ofSeq</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs29', 37)" onmouseover="showTip(event, 'fs29', 37)" class="id">dataChart</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs30', 38)" onmouseover="showTip(event, 'fs30', 38)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs31', 39)" onmouseover="showTip(event, 'fs31', 39)" class="id">Heatmap</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs14', 40)" onmouseover="showTip(event, 'fs14', 40)" class="id">data</span><span class="pn">,</span><span class="fn">ColNames</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs13', 41)" onmouseover="showTip(event, 'fs13', 41)" class="id">colNames</span><span class="pn">,</span><span class="fn">RowNames</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs18', 42)" onmouseover="showTip(event, 'fs18', 42)" class="id">labels</span><span class="pn">)</span>
    <span class="c">// required to fit the species identifier on the left side of the heatmap</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs30', 43)" onmouseover="showTip(event, 'fs30', 43)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs32', 44)" onmouseover="showTip(event, 'fs32', 44)" class="id">withMarginSize</span><span class="pn">(</span><span class="fn">Left</span><span class="o">=</span><span class="n">100.</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs30', 45)" onmouseover="showTip(event, 'fs30', 45)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs33', 46)" onmouseover="showTip(event, 'fs33', 46)" class="id">withTitle</span> <span class="s">&quot;raw iris data&quot;</span>
</code></pre>
<div id="00955843-f5aa-429a-90af-5555e8a22ac6" style="width: 600px; height: 600px;"><!-- Plotly chart will be drawn inside this DIV --></div>
<script type="text/javascript">

            var renderPlotly_00955843f5aa429a90af5555e8a22ac6 = function() {
            var fsharpPlotlyRequire = requirejs.config({context:'fsharp-plotly',paths:{plotly:'https://cdn.plot.ly/plotly-latest.min'}}) || require;
            fsharpPlotlyRequire(['plotly'], function(Plotly) {

            var data = [{"type":"heatmap","z":[[5.5,2.4,3.8,1.1],[4.9,3.1,1.5,0.1],[7.6,3.0,6.6,2.1],[5.6,2.8,4.9,2.0],[6.1,3.0,4.9,1.8],[6.3,3.4,5.6,2.4],[6.2,2.8,4.8,1.8],[7.2,3.2,6.0,1.8],[6.9,3.2,5.7,2.3],[4.9,3.0,1.4,0.2],[5.4,3.9,1.7,0.4],[7.0,3.2,4.7,1.4],[6.1,3.0,4.6,1.4],[5.4,3.7,1.5,0.2],[7.2,3.6,6.1,2.5],[6.3,2.8,5.1,1.5],[5.4,3.4,1.7,0.2],[5.8,4.0,1.2,0.2],[5.0,3.2,1.2,0.2],[6.5,3.0,5.8,2.2],[5.6,3.0,4.1,1.3],[4.3,3.0,1.1,0.1],[6.7,3.3,5.7,2.5],[4.5,2.3,1.3,0.3],[5.7,2.5,5.0,2.0],[6.3,2.7,4.9,1.8],[5.6,3.0,4.5,1.5],[5.6,2.5,3.9,1.1],[4.9,3.1,1.5,0.1],[7.7,3.0,6.1,2.3],[6.3,2.5,5.0,1.9],[6.4,3.1,5.5,1.8],[4.7,3.2,1.6,0.2],[5.5,4.2,1.4,0.2],[5.9,3.2,4.8,1.8],[5.0,3.4,1.6,0.4],[5.4,3.4,1.5,0.4],[6.0,2.7,5.1,1.6],[5.6,2.9,3.6,1.3],[6.3,3.3,4.7,1.6],[5.1,2.5,3.0,1.1],[6.4,3.2,4.5,1.5],[5.1,3.7,1.5,0.4],[6.7,3.0,5.2,2.3],[6.2,2.9,4.3,1.3],[6.8,2.8,4.8,1.4],[7.7,2.8,6.7,2.0],[4.8,3.0,1.4,0.1],[6.2,3.4,5.4,2.3],[4.8,3.4,1.9,0.2],[6.7,2.5,5.8,1.8],[5.1,3.5,1.4,0.2],[6.7,3.0,5.0,1.7],[6.9,3.1,5.1,2.3],[5.8,2.7,5.1,1.9],[4.8,3.1,1.6,0.2],[5.5,2.6,4.4,1.2],[5.1,3.8,1.6,0.2],[5.7,4.4,1.5,0.4],[6.7,3.3,5.7,2.1],[4.4,3.0,1.3,0.2],[5.0,3.5,1.3,0.3],[6.9,3.1,5.4,2.1],[5.0,3.5,1.6,0.6],[6.5,3.2,5.1,2.0],[4.6,3.6,1.0,0.2],[6.1,2.8,4.7,1.2],[5.0,2.0,3.5,1.0],[5.8,2.7,4.1,1.0],[6.0,3.4,4.5,1.6],[4.9,2.5,4.5,1.7],[5.7,3.8,1.7,0.3],[7.9,3.8,6.4,2.0],[7.2,3.0,5.8,1.6],[5.5,3.5,1.3,0.2],[4.6,3.2,1.4,0.2],[6.4,2.9,4.3,1.3],[6.9,3.1,4.9,1.5],[6.0,2.9,4.5,1.5],[5.8,2.6,4.0,1.2],[5.2,2.7,3.9,1.4],[7.4,2.8,6.1,1.9],[5.5,2.4,3.7,1.0],[5.1,3.4,1.5,0.2],[4.8,3.4,1.6,0.2],[5.0,3.0,1.6,0.2],[5.7,2.8,4.1,1.3],[4.6,3.1,1.5,0.2],[5.9,3.0,4.2,1.5],[6.1,2.8,4.0,1.3],[5.7,2.8,4.5,1.3],[6.0,2.2,4.0,1.0],[5.4,3.0,4.5,1.5],[6.1,2.9,4.7,1.4],[5.4,3.9,1.3,0.4],[5.2,4.1,1.5,0.1],[7.3,2.9,6.3,1.8],[4.7,3.2,1.3,0.2],[6.3,2.5,4.9,1.5],[5.3,3.7,1.5,0.2],[6.6,2.9,4.6,1.3],[6.3,2.9,5.6,1.8],[4.4,3.2,1.3,0.2],[4.4,2.9,1.4,0.2],[6.5,3.0,5.5,1.8],[6.3,2.3,4.4,1.3],[4.9,3.1,1.5,0.1],[6.6,3.0,4.4,1.4],[6.4,2.8,5.6,2.1],[6.5,2.8,4.6,1.5],[5.5,2.3,4.0,1.3],[6.7,3.1,5.6,2.4],[6.4,3.2,5.3,2.3],[6.8,3.0,5.5,2.1],[5.7,2.9,4.2,1.3],[5.8,2.7,5.1,1.9],[6.0,3.0,4.8,1.8],[5.2,3.4,1.4,0.2],[6.7,3.1,4.7,1.5],[5.1,3.5,1.4,0.3],[5.5,2.5,4.0,1.3],[4.8,3.0,1.4,0.3],[5.1,3.8,1.5,0.3],[6.4,2.8,5.6,2.2],[5.0,3.4,1.5,0.2],[5.1,3.8,1.9,0.4],[5.1,3.3,1.7,0.5],[6.5,3.0,5.2,2.0],[5.6,2.7,4.2,1.3],[6.0,2.2,5.0,1.5],[7.1,3.0,5.9,2.1],[4.6,3.4,1.4,0.3],[6.1,2.6,5.6,1.4],[6.2,2.2,4.5,1.5],[5.2,3.5,1.5,0.2],[7.7,3.8,6.7,2.2],[5.7,3.0,4.2,1.2],[6.4,2.7,5.3,1.9],[5.8,2.7,3.9,1.2],[5.0,2.3,3.3,1.0],[6.7,3.1,4.4,1.4],[6.3,3.3,6.0,2.5],[4.9,2.4,3.3,1.0],[5.8,2.8,5.1,2.4],[5.0,3.3,1.4,0.2],[7.7,2.6,6.9,2.3],[5.7,2.6,3.5,1.0],[5.9,3.0,5.1,1.8],[6.8,3.2,5.9,2.3],[5.0,3.6,1.4,0.2]],"x":["sepal_length","sepal_width","petal_length","petal_width"],"y":["versicolor_0","setosa_1","virginica_2","virginica_3","virginica_4","virginica_5","virginica_6","virginica_7","virginica_8","setosa_9","setosa_10","versicolor_11","versicolor_12","setosa_13","virginica_14","virginica_15","setosa_16","setosa_17","setosa_18","virginica_19","versicolor_20","setosa_21","virginica_22","setosa_23","virginica_24","virginica_25","versicolor_26","versicolor_27","setosa_28","virginica_29","virginica_30","virginica_31","setosa_32","setosa_33","versicolor_34","setosa_35","setosa_36","versicolor_37","versicolor_38","versicolor_39","versicolor_40","versicolor_41","setosa_42","virginica_43","versicolor_44","versicolor_45","virginica_46","setosa_47","virginica_48","setosa_49","virginica_50","setosa_51","versicolor_52","virginica_53","virginica_54","setosa_55","versicolor_56","setosa_57","setosa_58","virginica_59","setosa_60","setosa_61","virginica_62","setosa_63","virginica_64","setosa_65","versicolor_66","versicolor_67","versicolor_68","versicolor_69","virginica_70","setosa_71","virginica_72","virginica_73","setosa_74","setosa_75","versicolor_76","versicolor_77","versicolor_78","versicolor_79","versicolor_80","virginica_81","versicolor_82","setosa_83","setosa_84","setosa_85","versicolor_86","setosa_87","versicolor_88","versicolor_89","versicolor_90","versicolor_91","versicolor_92","versicolor_93","setosa_94","setosa_95","virginica_96","setosa_97","versicolor_98","setosa_99","versicolor_100","virginica_101","setosa_102","setosa_103","virginica_104","versicolor_105","setosa_106","versicolor_107","virginica_108","versicolor_109","versicolor_110","virginica_111","virginica_112","virginica_113","versicolor_114","virginica_115","virginica_116","setosa_117","versicolor_118","setosa_119","versicolor_120","setosa_121","setosa_122","virginica_123","setosa_124","setosa_125","setosa_126","virginica_127","versicolor_128","virginica_129","virginica_130","setosa_131","virginica_132","versicolor_133","setosa_134","virginica_135","versicolor_136","virginica_137","versicolor_138","versicolor_139","versicolor_140","virginica_141","versicolor_142","virginica_143","setosa_144","virginica_145","versicolor_146","virginica_147","virginica_148","setosa_149"]}];
            var layout = {"margin":{"l":100.0},"title":"raw iris data"};
            var config = {};
            Plotly.newPlot('00955843-f5aa-429a-90af-5555e8a22ac6', data, layout, config);
});
            };
            if ((typeof(requirejs) !==  typeof(Function)) || (typeof(requirejs.config) !== typeof(Function))) {
                var script = document.createElement("script");
                script.setAttribute("src", "https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js");
                script.onload = function(){
                    renderPlotly_00955843f5aa429a90af5555e8a22ac6();
                };
                document.getElementsByTagName("head")[0].appendChild(script);
            }
            else {
                renderPlotly_00955843f5aa429a90af5555e8a22ac6();
            }
</script>

<h2><a name="Clustering" class="anchor" href="#Clustering">Clustering</a></h2>
<p>The function that performs hierarchical clustering can be found at <code>FSharp.Stats.ML.Unsupervised.HierarchicalClustering.generate</code>. It requires three input parameters:</p>
<ol>
<li>Distance measure working on <code>'T</code> (from <code>FSharp.Stats.ML.DistanceMetrics</code>)</li>
<li>Linkage type</li>
<li>Data to cluster as <code>'T</code></li>
</ol>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 50)" onmouseover="showTip(event, 'fs1', 50)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs36', 51)" onmouseover="showTip(event, 'fs36', 51)" class="id">Stats</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs37', 52)" onmouseover="showTip(event, 'fs37', 52)" class="id">ML</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 53)" onmouseover="showTip(event, 'fs1', 53)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs36', 54)" onmouseover="showTip(event, 'fs36', 54)" class="id">Stats</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs37', 55)" onmouseover="showTip(event, 'fs37', 55)" class="id">ML</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs38', 56)" onmouseover="showTip(event, 'fs38', 56)" class="id">Unsupervised</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs39', 57)" onmouseover="showTip(event, 'fs39', 57)" class="fn">distanceMeasure</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs40', 58)" onmouseover="showTip(event, 'fs40', 58)" class="m">DistanceMetrics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs41', 59)" onmouseover="showTip(event, 'fs41', 59)" class="id">euclideanNaNSquared</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs42', 60)" onmouseover="showTip(event, 'fs42', 60)" class="fn">linker</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs43', 61)" onmouseover="showTip(event, 'fs43', 61)" class="m">HierarchicalClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs44', 62)" onmouseover="showTip(event, 'fs44', 62)" class="m">Linker</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs45', 63)" onmouseover="showTip(event, 'fs45', 63)" class="id">centroidLwLinker</span>

<span class="c">// calculates the clustering and reports a single root cluster (node), </span>
<span class="c">// that may recursively contains further nodes</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs46', 64)" onmouseover="showTip(event, 'fs46', 64)" class="id">clusterResultH</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs43', 65)" onmouseover="showTip(event, 'fs43', 65)" class="m">HierarchicalClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs47', 66)" onmouseover="showTip(event, 'fs47', 66)" class="id">generate</span> <span onmouseout="hideTip(event, 'fs39', 67)" onmouseover="showTip(event, 'fs39', 67)" class="fn">distanceMeasure</span> <span onmouseout="hideTip(event, 'fs42', 68)" onmouseover="showTip(event, 'fs42', 68)" class="fn">linker</span> <span onmouseout="hideTip(event, 'fs14', 69)" onmouseover="showTip(event, 'fs14', 69)" class="id">data</span>

<span class="c">// If a desired cluster number is specified, the following function cuts the cluster according</span>
<span class="c">// to the depth, that results in the respective number of clusters (here 3). Only leaves are reported.</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs48', 70)" onmouseover="showTip(event, 'fs48', 70)" class="id">threeClusters</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs43', 71)" onmouseover="showTip(event, 'fs43', 71)" class="m">HierarchicalClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs49', 72)" onmouseover="showTip(event, 'fs49', 72)" class="id">cutHClust</span> <span class="n">3</span> <span onmouseout="hideTip(event, 'fs46', 73)" onmouseover="showTip(event, 'fs46', 73)" class="id">clusterResultH</span>
</code></pre>
<p>Every cluster leaf contains its raw values and an index that indicates the position of the respective data
point in the raw data. The index can be retrieved from leaves using HierarchicalClustering.getClusterId.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Detailed information for 3 clusters are given</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs50', 74)" onmouseover="showTip(event, 'fs50', 74)" class="id">inspectThreeClusters</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs48', 75)" onmouseover="showTip(event, 'fs48', 75)" class="id">threeClusters</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 76)" onmouseover="showTip(event, 'fs51', 76)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs52', 77)" onmouseover="showTip(event, 'fs52', 77)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs53', 78)" onmouseover="showTip(event, 'fs53', 78)" class="fn">cluster</span> <span class="k">-&gt;</span> 
        <span onmouseout="hideTip(event, 'fs53', 79)" onmouseover="showTip(event, 'fs53', 79)" class="fn">cluster</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs51', 80)" onmouseover="showTip(event, 'fs51', 80)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs52', 81)" onmouseover="showTip(event, 'fs52', 81)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs54', 82)" onmouseover="showTip(event, 'fs54', 82)" class="fn">leaf</span> <span class="k">-&gt;</span> 
            <span onmouseout="hideTip(event, 'fs18', 83)" onmouseover="showTip(event, 'fs18', 83)" class="id">labels</span><span class="id">.</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs43', 84)" onmouseover="showTip(event, 'fs43', 84)" class="m">HierarchicalClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs55', 85)" onmouseover="showTip(event, 'fs55', 85)" class="id">getClusterId</span> <span onmouseout="hideTip(event, 'fs54', 86)" onmouseover="showTip(event, 'fs54', 86)" class="fn">leaf</span><span class="pn">]</span>
            <span class="pn">)</span>
        <span class="pn">)</span>
</code></pre>
Cluster0: [versicolor_44; versicolor_76; versicolor_89; versicolor_12; versicolor_93 ...]<br>Cluster1: [setosa_16; setosa_36; setosa_74; setosa_42; setosa_122 ...]<br>Cluster2: [virginica_72; virginica_135; virginica_14; virginica_7; virginica_73 ...]
<p>To break up the tree structure but maintain the clustering order, the cluster tree has to be flattened.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// To recursevely flatten the cluster tree into leaves only, use flattenHClust.</span>
<span class="c">// A leaf list is reported, that does not contain any cluster membership, </span>
<span class="c">// but is sorted by the clustering result.</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs61', 101)" onmouseover="showTip(event, 'fs61', 101)" class="id">hLeaves</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs46', 102)" onmouseover="showTip(event, 'fs46', 102)" class="id">clusterResultH</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 103)" onmouseover="showTip(event, 'fs43', 103)" class="m">HierarchicalClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs62', 104)" onmouseover="showTip(event, 'fs62', 104)" class="id">flattenHClust</span>
    
<span class="c">// Takes the sorted cluster result and reports a tuple of label and data value.</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs63', 105)" onmouseover="showTip(event, 'fs63', 105)" class="id">dataSortedByClustering</span> <span class="o">=</span>    
    <span onmouseout="hideTip(event, 'fs61', 106)" onmouseover="showTip(event, 'fs61', 106)" class="id">hLeaves</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs22', 107)" onmouseover="showTip(event, 'fs22', 107)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs64', 108)" onmouseover="showTip(event, 'fs64', 108)" class="id">choose</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs65', 109)" onmouseover="showTip(event, 'fs65', 109)" class="fn">c</span> <span class="k">-&gt;</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs66', 110)" onmouseover="showTip(event, 'fs66', 110)" class="fn">label</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs18', 111)" onmouseover="showTip(event, 'fs18', 111)" class="id">labels</span><span class="id">.</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs43', 112)" onmouseover="showTip(event, 'fs43', 112)" class="m">HierarchicalClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs55', 113)" onmouseover="showTip(event, 'fs55', 113)" class="id">getClusterId</span> <span onmouseout="hideTip(event, 'fs65', 114)" onmouseover="showTip(event, 'fs65', 114)" class="fn">c</span><span class="pn">]</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs67', 115)" onmouseover="showTip(event, 'fs67', 115)" class="fn">values</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs43', 116)" onmouseover="showTip(event, 'fs43', 116)" class="m">HierarchicalClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs68', 117)" onmouseover="showTip(event, 'fs68', 117)" class="id">tryGetLeafValue</span> <span onmouseout="hideTip(event, 'fs65', 118)" onmouseover="showTip(event, 'fs65', 118)" class="fn">c</span>
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs67', 119)" onmouseover="showTip(event, 'fs67', 119)" class="fn">values</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs69', 120)" onmouseover="showTip(event, 'fs69', 120)" class="uc">None</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs69', 121)" onmouseover="showTip(event, 'fs69', 121)" class="uc">None</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs70', 122)" onmouseover="showTip(event, 'fs70', 122)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs71', 123)" onmouseover="showTip(event, 'fs71', 123)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs70', 124)" onmouseover="showTip(event, 'fs70', 124)" class="uc">Some</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs66', 125)" onmouseover="showTip(event, 'fs66', 125)" class="fn">label</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs71', 126)" onmouseover="showTip(event, 'fs71', 126)" class="fn">x</span><span class="pn">)</span>
        <span class="pn">)</span>
</code></pre>
<p>The visualization again is performed using a Plotly.NET heatmap.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs72', 127)" onmouseover="showTip(event, 'fs72', 127)" class="id">hClusteredDataHeatmap</span> <span class="o">=</span> 
    <span class="k">let</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs73', 128)" onmouseover="showTip(event, 'fs73', 128)" class="fn">hlable</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs74', 129)" onmouseover="showTip(event, 'fs74', 129)" class="fn">hdata</span><span class="pn">)</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs63', 130)" onmouseover="showTip(event, 'fs63', 130)" class="id">dataSortedByClustering</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs22', 131)" onmouseover="showTip(event, 'fs22', 131)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs75', 132)" onmouseover="showTip(event, 'fs75', 132)" class="id">unzip</span>
    <span onmouseout="hideTip(event, 'fs30', 133)" onmouseover="showTip(event, 'fs30', 133)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs31', 134)" onmouseover="showTip(event, 'fs31', 134)" class="id">Heatmap</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs74', 135)" onmouseover="showTip(event, 'fs74', 135)" class="fn">hdata</span><span class="pn">,</span><span class="fn">ColNames</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs13', 136)" onmouseover="showTip(event, 'fs13', 136)" class="id">colNames</span><span class="pn">,</span><span class="fn">RowNames</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs73', 137)" onmouseover="showTip(event, 'fs73', 137)" class="fn">hlable</span><span class="pn">)</span>
    <span class="c">// required to fit the species identifier on the left side of the heatmap</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs30', 138)" onmouseover="showTip(event, 'fs30', 138)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs32', 139)" onmouseover="showTip(event, 'fs32', 139)" class="id">withMarginSize</span><span class="pn">(</span><span class="fn">Left</span><span class="o">=</span><span class="n">100.</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs30', 140)" onmouseover="showTip(event, 'fs30', 140)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs33', 141)" onmouseover="showTip(event, 'fs33', 141)" class="id">withTitle</span> <span class="s">&quot;Clustered iris data (hierarchical clustering)&quot;</span>
</code></pre>
<div id="5504b855-cdda-4b2a-a487-a19a38828a9e" style="width: 600px; height: 600px;"><!-- Plotly chart will be drawn inside this DIV --></div>
<script type="text/javascript">

            var renderPlotly_5504b855cdda4b2aa487a19a38828a9e = function() {
            var fsharpPlotlyRequire = requirejs.config({context:'fsharp-plotly',paths:{plotly:'https://cdn.plot.ly/plotly-latest.min'}}) || require;
            fsharpPlotlyRequire(['plotly'], function(Plotly) {

            var data = [{"type":"heatmap","z":[[6.2,2.9,4.3,1.3],[6.4,2.9,4.3,1.3],[6.1,2.8,4.0,1.3],[6.1,3.0,4.6,1.4],[6.1,2.9,4.7,1.4],[6.0,2.9,4.5,1.5],[6.1,2.8,4.7,1.2],[6.3,3.3,4.7,1.6],[6.4,3.2,4.5,1.5],[6.0,3.4,4.5,1.6],[7.0,3.2,4.7,1.4],[6.9,3.1,4.9,1.5],[6.7,3.1,4.7,1.5],[6.8,2.8,4.8,1.4],[6.7,3.0,5.0,1.7],[6.6,2.9,4.6,1.3],[6.5,2.8,4.6,1.5],[6.6,3.0,4.4,1.4],[6.7,3.1,4.4,1.4],[6.3,2.8,5.1,1.5],[6.0,2.7,5.1,1.6],[6.3,2.5,4.9,1.5],[6.2,2.8,4.8,1.8],[6.3,2.7,4.9,1.8],[6.3,2.5,5.0,1.9],[6.1,3.0,4.9,1.8],[6.0,3.0,4.8,1.8],[5.9,3.2,4.8,1.8],[5.9,3.0,5.1,1.8],[5.8,2.7,5.1,1.9],[5.8,2.7,5.1,1.9],[5.7,2.5,5.0,2.0],[5.6,2.8,4.9,2.0],[5.8,2.8,5.1,2.4],[6.3,2.3,4.4,1.3],[6.2,2.2,4.5,1.5],[6.0,2.2,5.0,1.5],[5.6,2.9,3.6,1.3],[5.7,2.6,3.5,1.0],[5.5,2.4,3.8,1.1],[5.5,2.4,3.7,1.0],[5.6,2.5,3.9,1.1],[5.5,2.3,4.0,1.3],[5.5,2.5,4.0,1.3],[5.2,2.7,3.9,1.4],[5.8,2.6,4.0,1.2],[5.8,2.7,3.9,1.2],[5.8,2.7,4.1,1.0],[5.7,2.8,4.1,1.3],[5.6,2.7,4.2,1.3],[5.7,2.9,4.2,1.3],[5.7,3.0,4.2,1.2],[5.6,3.0,4.1,1.3],[5.5,2.6,4.4,1.2],[5.7,2.8,4.5,1.3],[5.9,3.0,4.2,1.5],[5.6,3.0,4.5,1.5],[5.4,3.0,4.5,1.5],[6.0,2.2,4.0,1.0],[4.9,2.5,4.5,1.7],[5.0,2.3,3.3,1.0],[4.9,2.4,3.3,1.0],[5.1,2.5,3.0,1.1],[5.0,2.0,3.5,1.0],[7.9,3.8,6.4,2.0],[7.7,3.8,6.7,2.2],[7.2,3.6,6.1,2.5],[7.2,3.2,6.0,1.8],[7.2,3.0,5.8,1.6],[7.1,3.0,5.9,2.1],[7.4,2.8,6.1,1.9],[7.3,2.9,6.3,1.8],[7.7,3.0,6.1,2.3],[7.6,3.0,6.6,2.1],[7.7,2.8,6.7,2.0],[7.7,2.6,6.9,2.3],[6.7,2.5,5.8,1.8],[6.1,2.6,5.6,1.4],[6.7,3.0,5.2,2.3],[6.9,3.1,5.1,2.3],[6.9,3.1,5.4,2.1],[6.8,3.0,5.5,2.1],[6.5,3.2,5.1,2.0],[6.5,3.0,5.2,2.0],[6.4,3.1,5.5,1.8],[6.5,3.0,5.5,1.8],[6.3,2.9,5.6,1.8],[6.4,2.7,5.3,1.9],[6.4,2.8,5.6,2.1],[6.4,2.8,5.6,2.2],[6.5,3.0,5.8,2.2],[6.7,3.3,5.7,2.5],[6.7,3.1,5.6,2.4],[6.9,3.2,5.7,2.3],[6.8,3.2,5.9,2.3],[6.7,3.3,5.7,2.1],[6.3,3.4,5.6,2.4],[6.2,3.4,5.4,2.3],[6.4,3.2,5.3,2.3],[6.3,3.3,6.0,2.5],[5.4,3.4,1.7,0.2],[5.4,3.4,1.5,0.4],[5.5,3.5,1.3,0.2],[5.1,3.7,1.5,0.4],[5.1,3.8,1.5,0.3],[5.1,3.8,1.6,0.2],[5.4,3.7,1.5,0.2],[5.3,3.7,1.5,0.2],[5.0,3.5,1.3,0.3],[5.0,3.6,1.4,0.2],[5.2,3.4,1.4,0.2],[5.2,3.5,1.5,0.2],[5.1,3.5,1.4,0.2],[5.1,3.5,1.4,0.3],[5.1,3.4,1.5,0.2],[5.0,3.4,1.5,0.2],[5.0,3.3,1.4,0.2],[5.0,3.4,1.6,0.4],[5.1,3.3,1.7,0.5],[5.0,3.5,1.6,0.6],[5.1,3.8,1.9,0.4],[4.6,3.2,1.4,0.2],[4.6,3.1,1.5,0.2],[4.7,3.2,1.3,0.2],[4.6,3.4,1.4,0.3],[4.9,3.0,1.4,0.2],[4.8,3.0,1.4,0.3],[4.8,3.0,1.4,0.1],[4.9,3.1,1.5,0.1],[4.9,3.1,1.5,0.1],[4.9,3.1,1.5,0.1],[5.0,3.0,1.6,0.2],[4.7,3.2,1.6,0.2],[4.8,3.1,1.6,0.2],[5.0,3.2,1.2,0.2],[4.8,3.4,1.9,0.2],[4.8,3.4,1.6,0.2],[4.4,3.0,1.3,0.2],[4.4,2.9,1.4,0.2],[4.4,3.2,1.3,0.2],[4.3,3.0,1.1,0.1],[4.6,3.6,1.0,0.2],[5.5,4.2,1.4,0.2],[5.2,4.1,1.5,0.1],[5.4,3.9,1.3,0.4],[5.4,3.9,1.7,0.4],[5.7,3.8,1.7,0.3],[5.8,4.0,1.2,0.2],[5.7,4.4,1.5,0.4],[4.5,2.3,1.3,0.3]],"x":["sepal_length","sepal_width","petal_length","petal_width"],"y":["versicolor_44","versicolor_76","versicolor_89","versicolor_12","versicolor_93","versicolor_78","versicolor_66","versicolor_39","versicolor_41","versicolor_69","versicolor_11","versicolor_77","versicolor_118","versicolor_45","versicolor_52","versicolor_100","versicolor_109","versicolor_107","versicolor_140","virginica_15","versicolor_37","versicolor_98","virginica_6","virginica_25","virginica_30","virginica_4","virginica_116","versicolor_34","virginica_147","virginica_54","virginica_115","virginica_24","virginica_3","virginica_143","versicolor_105","versicolor_133","virginica_129","versicolor_38","versicolor_146","versicolor_0","versicolor_82","versicolor_27","versicolor_110","versicolor_120","versicolor_80","versicolor_79","versicolor_138","versicolor_68","versicolor_86","versicolor_128","versicolor_114","versicolor_136","versicolor_20","versicolor_56","versicolor_90","versicolor_88","versicolor_26","versicolor_92","versicolor_91","virginica_70","versicolor_139","versicolor_142","versicolor_40","versicolor_67","virginica_72","virginica_135","virginica_14","virginica_7","virginica_73","virginica_130","virginica_81","virginica_96","virginica_29","virginica_2","virginica_46","virginica_145","virginica_50","virginica_132","virginica_43","virginica_53","virginica_62","virginica_113","virginica_64","virginica_127","virginica_31","virginica_104","virginica_101","virginica_137","virginica_108","virginica_123","virginica_19","virginica_22","virginica_111","virginica_8","virginica_148","virginica_59","virginica_5","virginica_48","virginica_112","virginica_141","setosa_16","setosa_36","setosa_74","setosa_42","setosa_122","setosa_57","setosa_13","setosa_99","setosa_61","setosa_149","setosa_117","setosa_134","setosa_51","setosa_119","setosa_83","setosa_124","setosa_144","setosa_35","setosa_126","setosa_63","setosa_125","setosa_75","setosa_87","setosa_97","setosa_131","setosa_9","setosa_121","setosa_47","setosa_1","setosa_28","setosa_106","setosa_85","setosa_32","setosa_55","setosa_18","setosa_49","setosa_84","setosa_60","setosa_103","setosa_102","setosa_21","setosa_65","setosa_33","setosa_95","setosa_94","setosa_10","setosa_71","setosa_17","setosa_58","setosa_23"]}];
            var layout = {"margin":{"l":100.0},"title":"Clustered iris data (hierarchical clustering)"};
            var config = {};
            Plotly.newPlot('5504b855-cdda-4b2a-a487-a19a38828a9e', data, layout, config);
});
            };
            if ((typeof(requirejs) !==  typeof(Function)) || (typeof(requirejs.config) !== typeof(Function))) {
                var script = document.createElement("script");
                script.setAttribute("src", "https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js");
                script.onload = function(){
                    renderPlotly_5504b855cdda4b2aa487a19a38828a9e();
                };
                document.getElementsByTagName("head")[0].appendChild(script);
            }
            else {
                renderPlotly_5504b855cdda4b2aa487a19a38828a9e();
            }
</script>

<h2><a name="Limitations" class="anchor" href="#Limitations">Limitations</a></h2>
<ol>
<li>There is no strong guidance on which distance function and linkage type should be used. It often is chosen arbitrarily according to the user's experience.</li>
<li>The visual interpretation of the dendrogram is difficult, since swapping the direction of some bifurcations may totally disturbe the visual impression.</li>
</ol>
<h2><a name="Notes" class="anchor" href="#Notes">Notes</a></h2>
<ul>
<li>
Please note that depending on what data you want to cluster, a column wise z-score normalization may be required. In the presented example differences in sepal width have a reduced influence because
the absolute variation is low.
</li>
</ul>
<h2><a name="References" class="anchor" href="#References">References</a></h2>
<ul>
<li>Vijaya et al., A Review on Hierarchical Clustering Algorithms, Journal of Engineering and Applied Sciences, 2017</li>
<li>Rani and Rohil, A Study of Hierarchical Clustering Algorithm, International Journal of Information and Computation Technology, 2013</li>
<li>FSharp.Stats documentation, fslaborg, <a href="https://fslab.org/FSharp.Stats/Clustering.html">https://fslab.org/FSharp.Stats/Clustering.html</a></li>
</ul>
<h2><a name="Further-reading" class="anchor" href="#Further-reading">Further reading</a></h2>
<p>Examples are taken from <a href="https://fslab.org/FSharp.Stats/Clustering.html">FSharp.Stats documentation</a> that covers various techniques for an optimal cluster number determination.</p>
<p>The next article in this series covers <a href="004_clustering_DBSCAN.html">DBSCAN using FSharp.Stats</a>.</p>

            </div>
        </div>
    </section>
    <div class="fsdocs-tip" id="fs1">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="fsdocs-tip" id="fs2">Multiple items<br />namespace FSharp.Data<br /><br />--------------------<br />namespace Microsoft.FSharp.Data</div>
<div class="fsdocs-tip" id="fs3">namespace Deedle</div>
<div class="fsdocs-tip" id="fs4">val rawData : string</div>
<div class="fsdocs-tip" id="fs5">type Http =
  private new : unit -&gt; Http
  static member private AppendQueryToUrl : url:string * query:(string * string) list -&gt; string
  static member AsyncRequest : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;HttpResponse&gt;
  static member AsyncRequestStream : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;HttpResponseWithStream&gt;
  static member AsyncRequestString : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;string&gt;
  static member private EncodeFormData : query:string -&gt; string
  static member private InnerRequest : url:string * toHttpResponse:(string -&gt; int -&gt; string -&gt; string -&gt; &#39;a0 option -&gt; Map&lt;string,string&gt; -&gt; Map&lt;string,string&gt; -&gt; Stream -&gt; Async&lt;&#39;a1&gt;) * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:&#39;a0 * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; Async&lt;&#39;a1&gt;
  static member Request : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; HttpResponse
  static member RequestStream : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; HttpResponseWithStream
  static member RequestString : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(HttpWebRequest -&gt; HttpWebRequest) * ?timeout:int -&gt; string<br /><em>&lt;summary&gt;
 Utilities for working with network via HTTP. Includes methods for downloading
 resources with specified headers, query parameters and HTTP body
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs6">Multiple items<br />static member Http.RequestString : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:System.Net.CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(System.Net.HttpWebRequest -&gt; System.Net.HttpWebRequest) * ?timeout:int -&gt; string<br /><br />--------------------<br />static member Http.RequestString : url:string * ?query:(string * string) list * ?headers:seq&lt;string * string&gt; * ?httpMethod:string * ?body:HttpRequestBody * ?cookies:seq&lt;string * string&gt; * ?cookieContainer:System.Net.CookieContainer * ?silentHttpErrors:bool * ?silentCookieErrors:bool * ?responseEncodingOverride:string * ?customizeHttpRequest:(System.Net.HttpWebRequest -&gt; System.Net.HttpWebRequest) * ?timeout:int -&gt; string</div>
<div class="fsdocs-tip" id="fs7">val df : Frame&lt;int,string&gt;</div>
<div class="fsdocs-tip" id="fs8">Multiple items<br />module Frame

from Deedle<br /><br />--------------------<br />type Frame =
  static member ReadCsv : location:string * hasHeaders:Nullable&lt;bool&gt; * inferTypes:Nullable&lt;bool&gt; * inferRows:Nullable&lt;int&gt; * schema:string * separators:string * culture:string * maxRows:Nullable&lt;int&gt; * missingValues:string [] * preferOptions:bool -&gt; Frame&lt;int,string&gt; + 1 overload
  static member ReadReader : reader:IDataReader -&gt; Frame&lt;int,string&gt;
  static member CustomExpanders : Dictionary&lt;Type,Func&lt;obj,seq&lt;string * Type * obj&gt;&gt;&gt;
  static member NonExpandableInterfaces : ResizeArray&lt;Type&gt;
  static member NonExpandableTypes : HashSet&lt;Type&gt;<br /><br />--------------------<br />type Frame&lt;&#39;TRowKey,&#39;TColumnKey (requires equality and equality)&gt; =
  interface IDynamicMetaObjectProvider
  interface INotifyCollectionChanged
  interface IFsiFormattable
  interface IFrame
  new : rowIndex:IIndex&lt;&#39;TRowKey&gt; * columnIndex:IIndex&lt;&#39;TColumnKey&gt; * data:IVector&lt;IVector&gt; * indexBuilder:IIndexBuilder * vectorBuilder:IVectorBuilder -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt; + 1 overload
  member AddColumn : column:&#39;TColumnKey * series:seq&lt;&#39;V&gt; -&gt; unit + 3 overloads
  member AggregateRowsBy : groupBy:seq&lt;&#39;TColumnKey&gt; * aggBy:seq&lt;&#39;TColumnKey&gt; * aggFunc:Func&lt;Series&lt;&#39;TRowKey,&#39;a&gt;,&#39;b&gt; -&gt; Frame&lt;int,&#39;TColumnKey&gt;
  member Clone : unit -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;
  member ColumnApply : f:Func&lt;Series&lt;&#39;TRowKey,&#39;T&gt;,ISeries&lt;&#39;TRowKey&gt;&gt; -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt; + 1 overload
  member DropColumn : column:&#39;TColumnKey -&gt; unit
  ...<br /><br />--------------------<br />new : names:seq&lt;&#39;TColumnKey&gt; * columns:seq&lt;ISeries&lt;&#39;TRowKey&gt;&gt; -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;<br />new : rowIndex:Indices.IIndex&lt;&#39;TRowKey&gt; * columnIndex:Indices.IIndex&lt;&#39;TColumnKey&gt; * data:IVector&lt;IVector&gt; * indexBuilder:Indices.IIndexBuilder * vectorBuilder:Vectors.IVectorBuilder -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;</div>
<div class="fsdocs-tip" id="fs9">static member Frame.ReadCsvString : csvString:string * ?hasHeaders:bool * ?inferTypes:bool * ?inferRows:int * ?schema:string * ?separators:string * ?culture:string * ?maxRows:int * ?missingValues:string [] * ?preferOptions:bool -&gt; Frame&lt;int,string&gt;</div>
<div class="fsdocs-tip" id="fs10">static member FrameExtensions.Print : frame:Frame&lt;&#39;K,&#39;V&gt; -&gt; unit (requires equality and equality)<br />static member FrameExtensions.Print : frame:Frame&lt;&#39;K,&#39;V&gt; * printTypes:bool -&gt; unit (requires equality and equality)</div>
<div class="fsdocs-tip" id="fs11">namespace Plotly</div>
<div class="fsdocs-tip" id="fs12">namespace Plotly.NET</div>
<div class="fsdocs-tip" id="fs13">val colNames : string list</div>
<div class="fsdocs-tip" id="fs14">val data : float [] []</div>
<div class="fsdocs-tip" id="fs15">Multiple items<br />module Frame

from Deedle<br /><br />--------------------<br />type Frame =
  inherit DynamicObj
  new : unit -&gt; Frame<br /><br />--------------------<br />type Frame&lt;&#39;TRowKey,&#39;TColumnKey (requires equality and equality)&gt; =
  interface IDynamicMetaObjectProvider
  interface INotifyCollectionChanged
  interface IFsiFormattable
  interface IFrame
  new : rowIndex:IIndex&lt;&#39;TRowKey&gt; * columnIndex:IIndex&lt;&#39;TColumnKey&gt; * data:IVector&lt;IVector&gt; * indexBuilder:IIndexBuilder * vectorBuilder:IVectorBuilder -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt; + 1 overload
  member AddColumn : column:&#39;TColumnKey * series:seq&lt;&#39;V&gt; -&gt; unit + 3 overloads
  member AggregateRowsBy : groupBy:seq&lt;&#39;TColumnKey&gt; * aggBy:seq&lt;&#39;TColumnKey&gt; * aggFunc:Func&lt;Series&lt;&#39;TRowKey,&#39;a&gt;,&#39;b&gt; -&gt; Frame&lt;int,&#39;TColumnKey&gt;
  member Clone : unit -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;
  member ColumnApply : f:Func&lt;Series&lt;&#39;TRowKey,&#39;T&gt;,ISeries&lt;&#39;TRowKey&gt;&gt; -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt; + 1 overload
  member DropColumn : column:&#39;TColumnKey -&gt; unit
  ...<br /><br />--------------------<br />new : unit -&gt; Frame<br /><br />--------------------<br />new : names:seq&lt;&#39;TColumnKey&gt; * columns:seq&lt;ISeries&lt;&#39;TRowKey&gt;&gt; -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;<br />new : rowIndex:Indices.IIndex&lt;&#39;TRowKey&gt; * columnIndex:Indices.IIndex&lt;&#39;TColumnKey&gt; * data:IVector&lt;IVector&gt; * indexBuilder:Indices.IIndexBuilder * vectorBuilder:Vectors.IVectorBuilder -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;</div>
<div class="fsdocs-tip" id="fs16">val dropCol : column:&#39;C -&gt; frame:Frame&lt;&#39;R,&#39;C&gt; -&gt; Frame&lt;&#39;R,&#39;C&gt; (requires equality and equality)</div>
<div class="fsdocs-tip" id="fs17">val toJaggedArray : frame:Frame&lt;&#39;R,&#39;C&gt; -&gt; float [] [] (requires equality and equality)</div>
<div class="fsdocs-tip" id="fs18">val labels : string []</div>
<div class="fsdocs-tip" id="fs19">val getCol : column:&#39;C -&gt; frame:Frame&lt;&#39;R,&#39;C&gt; -&gt; Series&lt;&#39;R,&#39;V&gt; (requires equality and equality)</div>
<div class="fsdocs-tip" id="fs20">Multiple items<br />module Series

from Deedle<br /><br />--------------------<br />type Series =
  static member ofNullables : values:seq&lt;Nullable&lt;&#39;a0&gt;&gt; -&gt; Series&lt;int,&#39;a0&gt; (requires default constructor and value type and &#39;a0 :&gt; ValueType)
  static member ofObservations : observations:seq&lt;&#39;c * &#39;d&gt; -&gt; Series&lt;&#39;c,&#39;d&gt; (requires equality)
  static member ofOptionalObservations : observations:seq&lt;&#39;K * &#39;a1 option&gt; -&gt; Series&lt;&#39;K,&#39;a1&gt; (requires equality)
  static member ofValues : values:seq&lt;&#39;a&gt; -&gt; Series&lt;int,&#39;a&gt;<br /><br />--------------------<br />type Series&lt;&#39;K,&#39;V (requires equality)&gt; =
  interface IFsiFormattable
  interface ISeries&lt;&#39;K&gt;
  new : index:IIndex&lt;&#39;K&gt; * vector:IVector&lt;&#39;V&gt; * vectorBuilder:IVectorBuilder * indexBuilder:IIndexBuilder -&gt; Series&lt;&#39;K,&#39;V&gt; + 3 overloads
  member After : lowerExclusive:&#39;K -&gt; Series&lt;&#39;K,&#39;V&gt;
  member Aggregate : aggregation:Aggregation&lt;&#39;K&gt; * keySelector:Func&lt;DataSegment&lt;Series&lt;&#39;K,&#39;V&gt;&gt;,&#39;TNewKey&gt; * valueSelector:Func&lt;DataSegment&lt;Series&lt;&#39;K,&#39;V&gt;&gt;,OptionalValue&lt;&#39;R&gt;&gt; -&gt; Series&lt;&#39;TNewKey,&#39;R&gt; (requires equality) + 1 overload
  member AsyncMaterialize : unit -&gt; Async&lt;Series&lt;&#39;K,&#39;V&gt;&gt;
  member Before : upperExclusive:&#39;K -&gt; Series&lt;&#39;K,&#39;V&gt;
  member Between : lowerInclusive:&#39;K * upperInclusive:&#39;K -&gt; Series&lt;&#39;K,&#39;V&gt;
  member Compare : another:Series&lt;&#39;K,&#39;V&gt; -&gt; Series&lt;&#39;K,Diff&lt;&#39;V&gt;&gt;
  member Convert : forward:Func&lt;&#39;V,&#39;R&gt; * backward:Func&lt;&#39;R,&#39;V&gt; -&gt; Series&lt;&#39;K,&#39;R&gt;
  ...<br /><br />--------------------<br />new : pairs:seq&lt;System.Collections.Generic.KeyValuePair&lt;&#39;K,&#39;V&gt;&gt; -&gt; Series&lt;&#39;K,&#39;V&gt;<br />new : keys:seq&lt;&#39;K&gt; * values:seq&lt;&#39;V&gt; -&gt; Series&lt;&#39;K,&#39;V&gt;<br />new : keys:&#39;K [] * values:&#39;V [] -&gt; Series&lt;&#39;K,&#39;V&gt;<br />new : index:Indices.IIndex&lt;&#39;K&gt; * vector:IVector&lt;&#39;V&gt; * vectorBuilder:Vectors.IVectorBuilder * indexBuilder:Indices.IIndexBuilder -&gt; Series&lt;&#39;K,&#39;V&gt;</div>
<div class="fsdocs-tip" id="fs21">val values : series:Series&lt;&#39;K,&#39;T&gt; -&gt; seq&lt;&#39;T&gt; (requires equality)</div>
<div class="fsdocs-tip" id="fs22">Multiple items<br />module Seq

from Plotly.NET<br /><br />--------------------<br />module Seq

from Microsoft.FSharp.Collections<br /><em>&lt;summary&gt;Contains operations for working with values of type &lt;see cref=&quot;T:Microsoft.FSharp.Collections.seq`1&quot; /&gt;.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs23">val mapi : mapping:(int -&gt; &#39;T -&gt; &#39;U) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;<br /><em>&lt;summary&gt;Builds a new collection whose elements are the results of applying the given function
 to each of the elements of the collection. The integer index passed to the
 function indicates the index (from 0) of element being transformed.&lt;/summary&gt;<br />&lt;param name=&quot;mapping&quot;&gt;A function to transform items from the input sequence that also supplies the current index.&lt;/param&gt;<br />&lt;param name=&quot;source&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;returns&gt;The result sequence.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input sequence is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs24">val i : int</div>
<div class="fsdocs-tip" id="fs25">val s : string</div>
<div class="fsdocs-tip" id="fs26">val sprintf : format:Printf.StringFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><em>&lt;summary&gt;Print to a string using the given format.&lt;/summary&gt;<br />&lt;param name=&quot;format&quot;&gt;The formatter.&lt;/param&gt;<br />&lt;returns&gt;The formatted result.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs27">module Array

from Microsoft.FSharp.Collections<br /><em>&lt;summary&gt;Contains operations for working with arrays.&lt;/summary&gt;<br />&lt;remarks&gt;
  See also &lt;a href=&quot;https://docs.microsoft.com/dotnet/fsharp/language-reference/arrays&quot;&gt;F# Language Guide - Arrays&lt;/a&gt;.
 &lt;/remarks&gt;</em></div>
<div class="fsdocs-tip" id="fs28">val ofSeq : source:seq&lt;&#39;T&gt; -&gt; &#39;T []<br /><em>&lt;summary&gt;Builds a new array from the given enumerable object.&lt;/summary&gt;<br />&lt;param name=&quot;source&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;returns&gt;The array of elements from the sequence.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input sequence is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs29">val dataChart : GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs30">type Chart =
  static member Area : x:seq&lt;#IConvertible&gt; * y:seq&lt;#IConvertible&gt; * ?Name:string * ?ShowMarkers:bool * ?Showlegend:bool * ?MarkerSymbol:Symbol * ?Color:string * ?Opacity:float * ?Labels:seq&lt;#IConvertible&gt; * ?TextPosition:TextPosition * ?TextFont:Font * ?Dash:DrawingStyle * ?Width:float -&gt; GenericChart + 1 overload
  static member Bar : keys:seq&lt;#IConvertible&gt; * values:seq&lt;#IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?Color:string * ?Opacity:float * ?Labels:seq&lt;#IConvertible&gt; * ?TextPosition:TextPosition * ?TextFont:Font * ?Marker:Marker -&gt; GenericChart + 1 overload
  static member BoxPlot : ?x:&#39;a0 * ?y:&#39;a1 * ?Name:string * ?Showlegend:bool * ?Color:string * ?Fillcolor:&#39;a2 * ?Opacity:float * ?Whiskerwidth:&#39;a3 * ?Boxpoints:Boxpoints * ?Boxmean:BoxMean * ?Jitter:&#39;a4 * ?Pointpos:&#39;a5 * ?Orientation:Orientation * ?Marker:Marker * ?Line:Line * ?Alignmentgroup:&#39;a6 * ?Offsetgroup:&#39;a7 * ?Notched:bool * ?NotchWidth:float * ?QuartileMethod:QuartileMethod -&gt; GenericChart + 1 overload
  static member Bubble : x:seq&lt;#IConvertible&gt; * y:seq&lt;#IConvertible&gt; * sizes:seq&lt;#IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?MarkerSymbol:Symbol * ?Color:string * ?Opacity:float * ?Labels:seq&lt;#IConvertible&gt; * ?TextPosition:TextPosition * ?TextFont:Font * ?StackGroup:string * ?Orientation:Orientation * ?GroupNorm:GroupNorm * ?UseWebGL:bool -&gt; GenericChart + 1 overload
  static member Candlestick : open:seq&lt;#IConvertible&gt; * high:seq&lt;#IConvertible&gt; * low:seq&lt;#IConvertible&gt; * close:seq&lt;#IConvertible&gt; * x:seq&lt;#IConvertible&gt; * ?Increasing:Line * ?Decreasing:Line * ?WhiskerWidth:float * ?Line:Line * ?XCalendar:Calendar -&gt; GenericChart + 1 overload
  static member ChoroplethMap : locations:seq&lt;string&gt; * z:seq&lt;#IConvertible&gt; * ?Text:seq&lt;#IConvertible&gt; * ?Locationmode:LocationFormat * ?Autocolorscale:bool * ?Colorscale:Colorscale * ?Colorbar:Colorbar * ?Marker:Marker * ?GeoJson:&#39;a2 * ?FeatureIdKey:string * ?Zmin:float * ?Zmax:float -&gt; GenericChart
  static member ChoroplethMapbox : locations:seq&lt;#IConvertible&gt; * z:seq&lt;#IConvertible&gt; * geoJson:&#39;a2 * ?FeatureIdKey:string * ?Text:seq&lt;#IConvertible&gt; * ?Below:string * ?Colorscale:Colorscale * ?Colorbar:Colorbar * ?ZAuto:bool * ?ZMin:float * ?ZMid:float * ?ZMax:float -&gt; GenericChart
  static member Column : keys:seq&lt;#IConvertible&gt; * values:seq&lt;#IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?Color:string * ?Opacity:float * ?Labels:seq&lt;#IConvertible&gt; * ?TextPosition:TextPosition * ?TextFont:Font * ?Marker:Marker -&gt; GenericChart + 1 overload
  static member Contour : data:seq&lt;#seq&lt;&#39;a1&gt;&gt; * ?X:seq&lt;#IConvertible&gt; * ?Y:seq&lt;#IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?Opacity:float * ?Colorscale:Colorscale * ?Showscale:&#39;a4 * ?zSmooth:SmoothAlg * ?Colorbar:&#39;a5 -&gt; GenericChart (requires &#39;a1 :&gt; IConvertible)
  static member DensityMapbox : lon:seq&lt;#IConvertible&gt; * lat:seq&lt;#IConvertible&gt; * ?Z:seq&lt;#IConvertible&gt; * ?Radius:float * ?Opacity:float * ?Text:seq&lt;#IConvertible&gt; * ?Below:string * ?Colorscale:Colorscale * ?Colorbar:Colorbar * ?Showscale:bool * ?ZAuto:bool * ?ZMin:float * ?ZMid:float * ?ZMax:float -&gt; GenericChart + 1 overload
  ...<br /><em>&lt;summary&gt;
 Provides a set of static methods for creating charts.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs31">static member Chart.Heatmap : data:seq&lt;#seq&lt;&#39;b&gt;&gt; * ?ColNames:seq&lt;#System.IConvertible&gt; * ?RowNames:seq&lt;#System.IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?Opacity:float * ?Colorscale:StyleParam.Colorscale * ?Showscale:&#39;e * ?Xgap:&#39;f * ?Ygap:&#39;g * ?zSmooth:StyleParam.SmoothAlg * ?Colorbar:&#39;h * ?UseWebGL:bool -&gt; GenericChart.GenericChart (requires &#39;b :&gt; System.IConvertible)</div>
<div class="fsdocs-tip" id="fs32">static member Chart.withMarginSize : ?Left:&#39;a * ?Right:&#39;b * ?Top:&#39;c * ?Bottom:&#39;d * ?Pad:&#39;e * ?Autoexpand:&#39;f -&gt; (GenericChart.GenericChart -&gt; GenericChart.GenericChart)</div>
<div class="fsdocs-tip" id="fs33">static member Chart.withTitle : title:string * ?Titlefont:Font -&gt; (GenericChart.GenericChart -&gt; GenericChart.GenericChart)</div>
<div class="fsdocs-tip" id="fs34">module GenericChart

from Plotly.NET<br /><em>&lt;summary&gt;
 Module to represent a GenericChart
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs35">val toChartHTML : gChart:GenericChart.GenericChart -&gt; string<br /><em>&lt;summary&gt;
 Converts a GenericChart to it HTML representation. The div layer has a default size of 600 if not specified otherwise.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs36">namespace FSharp.Stats</div>
<div class="fsdocs-tip" id="fs37">namespace FSharp.Stats.ML</div>
<div class="fsdocs-tip" id="fs38">namespace FSharp.Stats.ML.Unsupervised</div>
<div class="fsdocs-tip" id="fs39">val distanceMeasure : (seq&lt;float&gt; -&gt; seq&lt;float&gt; -&gt; float)</div>
<div class="fsdocs-tip" id="fs40">module DistanceMetrics

from FSharp.Stats.ML<br /><em>&lt;summary&gt;
Functions for computing distances of elements or sets
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs41">val euclideanNaNSquared : s1:seq&lt;float&gt; -&gt; s2:seq&lt;float&gt; -&gt; float<br /><em>&lt;summary&gt;
 Squared Euclidean distance of two coordinate float sequences (ignores nan)
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs42">val linker : (int * int * int -&gt; float -&gt; float -&gt; float -&gt; float)</div>
<div class="fsdocs-tip" id="fs43">module HierarchicalClustering

from FSharp.Stats.ML.Unsupervised<br /><em>&lt;summary&gt;
 Agglomerative hierarchical clustering
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs44">module Linker

from FSharp.Stats.ML.Unsupervised.HierarchicalClustering<br /><em>&lt;summary&gt;
 The linkage criterion determines the distance between sets of observations as a function of the pairwise distances between observations
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs45">val centroidLwLinker : int * int * int -&gt; dAB:float -&gt; dAC:float -&gt; dBC:float -&gt; float<br /><em>&lt;summary&gt;
 Centroid linkage criterion (UPGMA)
 Calculates the 
 d(A u B, C)
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs46">val clusterResultH : HierarchicalClustering.Cluster&lt;float []&gt;</div>
<div class="fsdocs-tip" id="fs47">val generate : distance:DistanceMetrics.Distance&lt;&#39;T&gt; -&gt; linker:HierarchicalClustering.Linker.LancWilliamsLinker -&gt; data:seq&lt;&#39;T&gt; -&gt; HierarchicalClustering.Cluster&lt;&#39;T&gt;<br /><em>&lt;summary&gt;
 Builds a hierarchy of clusters of data containing cluster labels
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs48">val threeClusters : HierarchicalClustering.Cluster&lt;float []&gt; list list</div>
<div class="fsdocs-tip" id="fs49">val cutHClust : desiredNumber:int -&gt; clusterTree:HierarchicalClustering.Cluster&lt;&#39;T&gt; -&gt; HierarchicalClustering.Cluster&lt;&#39;T&gt; list list<br /><em>&lt;summary&gt;
 Cuts a tree, as resulting from hclust, into several groups by specifying the desired number(s).
 If the desired number is odd the function cut the cluster with maximal distance
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs50">val inspectThreeClusters : string list list</div>
<div class="fsdocs-tip" id="fs51">Multiple items<br />module List

from Microsoft.FSharp.Collections<br /><em>&lt;summary&gt;Contains operations for working with values of type &lt;see cref=&quot;T:Microsoft.FSharp.Collections.list`1&quot; /&gt;.&lt;/summary&gt;<br />&lt;namespacedoc&gt;&lt;summary&gt;Operations for collections such as lists, arrays, sets, maps and sequences. See also 
    &lt;a href=&quot;https://docs.microsoft.com/dotnet/fsharp/language-reference/fsharp-collection-types&quot;&gt;F# Collection Types&lt;/a&gt; in the F# Language Guide.
 &lt;/summary&gt;&lt;/namespacedoc&gt;</em><br /><br />--------------------<br />type List&lt;&#39;T&gt; =
  | ( [] )
  | ( :: ) of Head: &#39;T * Tail: &#39;T list
    interface IReadOnlyList&lt;&#39;T&gt;
    interface IReadOnlyCollection&lt;&#39;T&gt;
    interface IEnumerable
    interface IEnumerable&lt;&#39;T&gt;
    member GetReverseIndex : rank:int * offset:int -&gt; int
    member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list
    static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list
    member Head : &#39;T
    member IsEmpty : bool
    member Item : index:int -&gt; &#39;T with get
    ...<br /><em>&lt;summary&gt;The type of immutable singly-linked lists.&lt;/summary&gt;<br />&lt;remarks&gt;Use the constructors &lt;c&gt;[]&lt;/c&gt; and &lt;c&gt;::&lt;/c&gt; (infix) to create values of this type, or
 the notation &lt;c&gt;[1;2;3]&lt;/c&gt;. Use the values in the &lt;c&gt;List&lt;/c&gt; module to manipulate 
 values of this type, or pattern match against the values directly.
 &lt;/remarks&gt;<br />&lt;exclude /&gt;</em></div>
<div class="fsdocs-tip" id="fs52">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list<br /><em>&lt;summary&gt;Builds a new collection whose elements are the results of applying the given function
 to each of the elements of the collection.&lt;/summary&gt;<br />&lt;param name=&quot;mapping&quot;&gt;The function to transform elements from the input list.&lt;/param&gt;<br />&lt;param name=&quot;list&quot;&gt;The input list.&lt;/param&gt;<br />&lt;returns&gt;The list of transformed elements.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs53">val cluster : HierarchicalClustering.Cluster&lt;float []&gt; list</div>
<div class="fsdocs-tip" id="fs54">val leaf : HierarchicalClustering.Cluster&lt;float []&gt;</div>
<div class="fsdocs-tip" id="fs55">val getClusterId : c:HierarchicalClustering.Cluster&lt;&#39;T&gt; -&gt; int</div>
<div class="fsdocs-tip" id="fs56">val mapi : mapping:(int -&gt; &#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list<br /><em>&lt;summary&gt;Builds a new collection whose elements are the results of applying the given function
 to each of the elements of the collection. The integer index passed to the
 function indicates the index (from 0) of element being transformed.&lt;/summary&gt;<br />&lt;param name=&quot;mapping&quot;&gt;The function to transform elements and their indices.&lt;/param&gt;<br />&lt;param name=&quot;list&quot;&gt;The input list.&lt;/param&gt;<br />&lt;returns&gt;The list of transformed elements.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs57">val x : string list</div>
<div class="fsdocs-tip" id="fs58">val truncCluster : string</div>
<div class="fsdocs-tip" id="fs59">module String

from Microsoft.FSharp.Core<br /><em>&lt;summary&gt;Functional programming operators for string processing.  Further string operations
 are available via the member functions on strings and other functionality in
  &lt;a href=&quot;http://msdn2.microsoft.com/en-us/library/system.string.aspx&quot;&gt;System.String&lt;/a&gt; 
 and &lt;a href=&quot;http://msdn2.microsoft.com/library/system.text.regularexpressions.aspx&quot;&gt;System.Text.RegularExpressions&lt;/a&gt; types.
 &lt;/summary&gt;<br />&lt;category&gt;Strings and Text&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs60">val concat : sep:string -&gt; strings:seq&lt;string&gt; -&gt; string<br /><em>&lt;summary&gt;Returns a new string made by concatenating the given strings
 with separator &lt;c&gt;sep&lt;/c&gt;, that is &lt;c&gt;a1 + sep + ... + sep + aN&lt;/c&gt;.&lt;/summary&gt;<br />&lt;param name=&quot;sep&quot;&gt;The separator string to be inserted between the strings
 of the input sequence.&lt;/param&gt;<br />&lt;param name=&quot;strings&quot;&gt;The sequence of strings to be concatenated.&lt;/param&gt;<br />&lt;returns&gt;A new string consisting of the concatenated strings separated by
 the separation string.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when &lt;c&gt;strings&lt;/c&gt; is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs61">val hLeaves : HierarchicalClustering.Cluster&lt;float []&gt; list</div>
<div class="fsdocs-tip" id="fs62">val flattenHClust : clusterTree:HierarchicalClustering.Cluster&lt;&#39;T&gt; -&gt; HierarchicalClustering.Cluster&lt;&#39;T&gt; list<br /><em>&lt;summary&gt;
 Returns a flatten list containing Leafs
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs63">val dataSortedByClustering : seq&lt;string * float []&gt;</div>
<div class="fsdocs-tip" id="fs64">val choose : chooser:(&#39;T -&gt; &#39;U option) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;<br /><em>&lt;summary&gt;Applies the given function to each element of the list. Return
 the list comprised of the results &quot;x&quot; for each element where
 the function returns Some(x).&lt;/summary&gt;<br />&lt;remarks&gt;The returned sequence may be passed between threads safely. However, 
 individual IEnumerator values generated from the returned sequence should not
 be accessed concurrently.&lt;/remarks&gt;<br />&lt;param name=&quot;chooser&quot;&gt;A function to transform items of type T into options of type U.&lt;/param&gt;<br />&lt;param name=&quot;source&quot;&gt;The input sequence of type T.&lt;/param&gt;<br />&lt;returns&gt;The result sequence.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input sequence is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs65">val c : HierarchicalClustering.Cluster&lt;float []&gt;</div>
<div class="fsdocs-tip" id="fs66">val label : string</div>
<div class="fsdocs-tip" id="fs67">val values : float [] option</div>
<div class="fsdocs-tip" id="fs68">val tryGetLeafValue : c:HierarchicalClustering.Cluster&lt;&#39;T&gt; -&gt; &#39;T option</div>
<div class="fsdocs-tip" id="fs69">union case Option.None: Option&lt;&#39;T&gt;<br /><em>&lt;summary&gt;The representation of &quot;No value&quot;&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs70">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;<br /><em>&lt;summary&gt;The representation of &quot;Value of type &#39;T&quot;&lt;/summary&gt;<br />&lt;param name=&quot;Value&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;An option representing the value.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs71">val x : float []</div>
<div class="fsdocs-tip" id="fs72">val hClusteredDataHeatmap : GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs73">val hlable : seq&lt;string&gt;</div>
<div class="fsdocs-tip" id="fs74">val hdata : seq&lt;float []&gt;</div>
<div class="fsdocs-tip" id="fs75">val unzip : input:seq&lt;&#39;a * &#39;b&gt; -&gt; seq&lt;&#39;a&gt; * seq&lt;&#39;b&gt;<br /><em>&lt;summary&gt;
 Splits a sequence of pairs into two sequences
&lt;/summary&gt;</em></div>

</body>
</html>